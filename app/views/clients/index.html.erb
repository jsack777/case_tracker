<p id="notice"><%= notice %></p>

<h4>Search Clients</h4>
<%= form_tag search_clients_path, method: :get do %>
  <p>
    <%= text_field_tag :query, params[:query] %>
    <span><%= submit_tag "Search", id: 'search' %></span>
  </p>
<% end %>

<h1>Clients</h1>

<table id="indextable">
  <thead>
    <tr>
      <th><a href="javascript:SortTable(0,'N');">Case</a></th>
      <th><a href="javascript:SortTable(1,'T');">Last name</a></th>
      <th><a href="javascript:SortTable(2,'T');">First name</a></th>
      <th><a href="javascript:SortTable(3,'T');">Middle name</a></th>
      <th><a href="javascript:SortTable(4,'T');">Address</a></th>
      <th><a href="javascript:SortTable(5,'T');">City</a></th>
      <th><a href="javascript:SortTable(6,'T');">State</a></th>
      <th><a href="javascript:SortTable(7,'N');">Postal code</a></th>
      <th><a href="javascript:SortTable(8,'T');">Notes</a></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @clients.each do |client| %>
      <tr>
        <td><%= client.case_id %></td>
        <td><%= client.last_name %></td>
        <td><%= client.first_name %></td>
        <td><%= client.middle_name %></td>
        <td><%= client.address %></td>
        <td><%= client.city %></td>
        <td><%= client.state %></td>
        <td><%= client.postal_code %></td>
        <td><%= client.notes %></td>
        <td><%= link_to 'Show', client %></td>
        <td><%= link_to 'Edit', edit_client_path(client) %></td>
        <td><%= link_to 'Destroy', client, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Client', new_client_path %>

<h4>Import Clients</h4>
<%= form_tag import_clients_path, method: :post, multipart: true do %>
  <p>
    Select a file to import
    <%= file_field_tag :file %><br/>
    <span><%= submit_tag "Import" %></span>
  </p>
<% end %>
